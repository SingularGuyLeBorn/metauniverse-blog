/* ============================================
   MetaUniverse 博客 - 全局样式
   ============================================ */

/* === CSS 变量 === */
:root {
  /* 主题色 */
  --mu-primary-500: #0ea5e9;
  --mu-primary-600: #0284c7;
  
  /* 布局变量 - 这些由 JS 动态更新 */
  --mu-sidebar-width: 280px;
  --mu-aside-width: 224px;
  
  /* 同步 VitePress */
  --vp-sidebar-width: var(--mu-sidebar-width);
}

/* === 顶部导航栏 (绝对固定，不受任何影响) === */
.VPNavBar {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  height: 64px !important;
  z-index: 100 !important; /* 最高层级 */
  background-color: var(--vp-c-bg) !important;
  border-bottom: 1px solid var(--vp-c-divider) !important;
}

/* === 左侧边栏 === */
@media (min-width: 960px) {
  .VPSidebar {
    position: fixed !important;
    top: 64px !important;
    left: 0 !important;
    bottom: 0 !important;
    width: var(--mu-sidebar-width) !important;
    background-color: var(--vp-c-bg) !important;
    border-right: 1px solid var(--vp-c-divider) !important;
    overflow-y: auto !important;
    z-index: 20 !important;
  }
}

/* 左侧边栏隐藏 */
.mu-left-hidden .VPSidebar {
  transform: translateX(-100%) !important;
  pointer-events: none !important;
}

.mu-left-hidden .VPContent.has-sidebar {
  padding-left: 0 !important;
}

/* === 右侧大纲 === */
@media (min-width: 1280px) {
  .VPDocAside {
    position: fixed !important;
    top: 64px !important;
    right: 0 !important;
    bottom: 0 !important;
    width: var(--mu-aside-width) !important;
    background-color: var(--vp-c-bg) !important;
    border-left: 1px solid var(--vp-c-divider) !important;
    overflow-y: auto !important;
    padding: 16px !important;
    z-index: 20 !important;
  }
}

/* 右侧大纲隐藏 */
.mu-right-hidden .VPDocAside {
  transform: translateX(100%) !important;
  pointer-events: none !important;
}

.mu-right-hidden .VPContent {
  padding-right: 0 !important;
}

/* === 中间内容区 (流式填充) === */
@media (min-width: 960px) {
  .VPContent.has-sidebar {
    padding-left: var(--mu-sidebar-width) !important;
  }
}

@media (min-width: 1280px) {
  .VPContent {
    padding-right: var(--mu-aside-width) !important;
  }
  
  .VPDoc .container {
    max-width: 100% !important;
    padding: 32px 48px !important;
  }
}

/* === 内容宽度模式 === */
[data-content-width="narrow"] .VPDoc .container {
  max-width: 680px !important;
  margin: 0 auto !important;
}

[data-content-width="half"] .VPDoc .container {
  max-width: 900px !important;
  margin: 0 auto !important;
}

[data-content-width="full"] .VPDoc .container {
  max-width: 100% !important;
}

/* === 平滑过渡 === */
.VPSidebar,
.VPContent,
.VPDocAside {
  transition: transform 0.3s ease, padding 0.3s ease, width 0.3s ease;
}

/* 拖拽时禁用过渡 */
.is-resizing .VPSidebar,
.is-resizing .VPContent,
.is-resizing .VPDocAside {
  transition: none !important;
}

/* === 侧边栏工具栏 === */
.sidebar-toolbar {
  position: sticky;
  top: 0;
  z-index: 30;
  padding: 12px 16px;
  background-color: var(--vp-c-bg);
  border-bottom: 1px solid var(--vp-c-divider);
}

/* === 侧边栏视觉增强 === */
.VPSidebarItem .caret {
  display: flex !important;
  opacity: 0.6 !important;
  color: var(--vp-c-text-2) !important;
}

.VPSidebarItem .text {
  font-size: 13.5px !important;
}

.VPSidebarItem.level-0 > .item .text {
  font-weight: 600 !important;
}

/* 激活状态 */
.VPSidebarItem.is-active > .item {
  background-color: var(--vp-c-bg-soft);
  color: var(--vp-c-brand-1) !important;
  border-left: 3px solid var(--vp-c-brand-1);
  border-radius: 0 4px 4px 0;
}

/* === 标题样式 === */
.vp-doc h1 {
  font-weight: 800;
  letter-spacing: -0.02em;
}
